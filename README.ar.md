# ุชุทุจูู ุงูุชุซุจูุช ุงูุณุฑูุน ูู Node.js ุนูู HestiaCP

> ุงูุดุฑ ูุฃุฏุฑ ุชุทุจููุงุช Node.js ุงููุชุนุฏุฏุฉ ุนูู [HestiaCP](https://hestiacp.com/) ุจูู ุณูููุฉ. ูุนูู ูู ุชุทุจูู ุนูู ูููุฐ (port) ุฎุงุต ุจู ูุน ุฅุฏุงุฑุฉ ุงูุนูููุงุช ุนุจุฑ PM2ุ ูููู ุนูุณู (Reverse Proxy) ุนุจุฑ Nginxุ ูุฏุนู ุงุฎุชูุงุฑู ูู NVM.

<p align="center">
  <img src="quickinstall-app/NodeJs/nodejs.png" alt="Node.js" width="80">
</p>

---

<div dir="rtl">

## ๐ ุฌุฏูู ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#-ูุธุฑุฉ-ุนุงูุฉ)
- [ุงููุนูุงุฑูุฉ](#-ุงููุนูุงุฑูุฉ)
- [ุงููุชุทูุจุงุช](#-ุงููุชุทูุจุงุช)
- [ุงูุชุซุจูุช](#-ุงูุชุซุจูุช)
- [ุงูุงุณุชุฎุฏุงู](#-ุงูุงุณุชุฎุฏุงู)
- [ูููู ุงููุฌูุฏุงุช](#-ูููู-ุงููุฌูุฏุงุช)
- [ุงูุตูุงุญูุงุช ูุงููุณุชุฎุฏููู](#-ุงูุตูุงุญูุงุช-ูุงููุณุชุฎุฏููู)
- [ุชูุงุตูู ุงูุฅุนุฏุงุฏุงุช](#-ุชูุงุตูู-ุงูุฅุนุฏุงุฏุงุช)
- [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง](#-ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก-ูุฅุตูุงุญูุง)
- [ุฅุฒุงูุฉ ุงูุชุซุจูุช](#-ุฅุฒุงูุฉ-ุงูุชุซุจูุช)
- [ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ](#-ุงูุฃุณุฆูุฉ-ุงูุดุงุฆุนุฉ)
- [ุณุฌู ุงูุชุบููุฑุงุช](#-ุณุฌู-ุงูุชุบููุฑุงุช)
- [ุงูุชุฑุฎูุต](#-ุงูุชุฑุฎูุต)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุถูู ูุฐุง ุงูููุญู (Plugin) **ุชุทุจูู ุงูุชุซุจูุช ุงูุณุฑูุน ูู Node.js** ุฅูู ูุงุฌูุฉ HestiaCPุ ููุง ูุชูุญ ูู:

- โ ูุดุฑ ุชุทุจููุงุช Node.js ูุชุนุฏุฏุฉ ุนูู ููุณ ุงูุณูุฑูุฑ ุจููุงูุฐ (ports) ูุฎุชููุฉ.
- โ ุฅุนุฏุงุฏ ุชููุงุฆู ูู Nginx Reverse Proxy (ูุจุฑูุชููููู HTTP ู HTTPS).
- โ ุฅุฏุงุฑุฉ ุงูุนูููุงุช ุจุงุณุชุฎุฏุงู PM2 ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู ูุญุฏูุฏ ุงูุฐุงูุฑุฉ.
- โ ุฏุนู NVM ูุฅุฏุงุฑุฉ ุฅุตุฏุงุฑุงุช Node.js ููู ุชุทุจูู ุนูู ุญุฏุฉ.
- โ ุฅูุดุงุก ุชููุงุฆู ูููู `.env` ูุญุชูู ุนูู ุฅุนุฏุงุฏุงุช ุงููููุฐ.
- โ ุชุฑููุณุงุช ุฃูุงู (Security headers) ูุญูุงูุฉ ุงููููุงุช ุงูุญุณุงุณุฉ ูุซู `.env` ู `.git`.

### ุงูุฅุตุฏุงุฑุงุช ุงููุฏุนููุฉ

| ุงููููู | ุงูุฅุตุฏุงุฑุงุช ุงููุฏุนููุฉ |
|:--- |:--- |
| **HestiaCP** | 1.8.x, 1.9.x (ุชู ุงุฎุชุจุงุฑู ุนูู 1.9.4) |
| **Node.js LTS** | v24.11.0 (ูุดุท)ุ v22.21.0 (ุตูุงูุฉ)ุ v20.20.0 (ุตูุงูุฉ) |
| **PHP** | 8.1, 8.2, 8.3, 8.4 (ูุทููุจ ูููุงุฌูุฉ ููุท) |
| **Nginx** | 1.18+ (ุตูุบุฉ HTTP/2 ุงูุญุฏูุซุฉ ูู 1.25.1+) |
| **PM2** | 5.x+ |

---

## ๐๏ธ ุงููุนูุงุฑูุฉ

ุนูุฏ ุชุซุจูุช ุชุทุจูู Node.js ุนุจุฑ ูุงุฌูุฉ ุงูุชุซุจูุช ุงูุณุฑูุนุ ูููู ุงูููุญู ุจุชูููุฐ ูุง ููู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    HestiaCP Server                       โ
โ                                                          โ
โ  โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโ  โ
โ  โ   Client     โโโโโโถโ    Nginx     โโโโโโถโ Node.js  โ  โ
โ  โ   Browser    โโโโโโโ  (Reverse    โโโโโโโ   App    โ  โ
โ  โ              โ     โ   Proxy)     โ     โ (PM2)    โ  โ
โ  โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโ  โ
โ                                                          โ
โ  Port 80/443 โโโโโโโถ Proxy Pass โโโโโโโถ Port 3000+      โ
โ                                                          โ
โ  Files:                                                  โ
โ  /home/<user>/web/<domain>/private/nodeapp/  (App)       โ
โ  /home/<user>/hestiacp_nodejs_config/        (Config)    โ
โ  /usr/local/hestia/data/templates/web/nginx/ (Templates) โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ูุณุงุฑ ุงูุนูู:**
1. ูุฑุณู ุงูุนููู ุทูุจ HTTP/HTTPS ุฅูู ูุทุงูู (domain).
2. ูุณุชูุจู Nginx ุงูุทูุจ ูููุฑุฑู ุฅูู `127.0.0.1:<PORT>`.
3. ูุฏูุฑ PM2 ุนูููุฉ ุชุดุบูู ุชุทุจูู Node.js ุนูู ุฐูู ุงููููุฐ.
4. ุชุนูุฏ ุงูุงุณุชุฌุงุจุฉ ุนุจุฑ Nginx ุฅูู ุงูุนููู.

---

## ๐ฆ ุงููุชุทูุจุงุช

### ูุชุทูุจุงุช ุงููุธุงู
- **ูุธุงู ุงูุชุดุบูู**: Ubuntu 20.04+ / Debian 11+ (64-bit).
- **HestiaCP**: ุฅุตุฏุงุฑ 1.8.x ุฃู 1.9.x ูุซุจุช ููุนูู.
- **ุงูุตูุงุญูุงุช**: ุตูุงุญูุงุช ุงูุฌุฐุฑ (Root/sudo) ุนุจุฑ SSH.

### ูุชุทูุจุงุช ุงูุจุฑูุฌูุงุช

#### 1. Node.js (ูุทููุจ)
ูู ุจุงูุชุซุจูุช ุจุงุณุชุฎุฏุงู ุฅุญุฏู ุงูุทุฑู ุงูุชุงููุฉ:

**ุงูุฎูุงุฑ ุฃ: NodeSource (ุนูู ูุณุชูู ุงููุธุงู)**
```bash
# Node.js 24.x LTS (ููุตู ุจู)
curl -fsSL https://deb.nodesource.com/setup_24.x | sudo -E bash -
sudo apt-get install -y nodejs
```

**ุงูุฎูุงุฑ ุจ: NVM (ุฅุฏุงุฑุฉ ุงูุฅุตุฏุงุฑุงุช ููู ูุณุชุฎุฏู)**
```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
source ~/.bashrc
nvm install 24
```

#### 2. PM2 (ูุทููุจ)
```bash
sudo npm install -g pm2
```

#### 3. ุฅุนุฏุงุฏ PM2 ูุจุฏุก ุงูุชุดุบูู (ููุตู ุจู)
ูุถูู ุฅุนุงุฏุฉ ุชุดุบูู ุชุทุจููุงุชู ุชููุงุฆููุง ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ:
```bash
pm2 startup
# ุงุชุจุน ุงูุฃูุฑ ุงูุฐู ูุธูุฑ ููุ ุซู ููุฐ:
pm2 save
```

---

## ๐ ุงูุชุซุจูุช

### ุงูุฎุทูุฉ 1: ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน
```bash
cd /tmp
git clone https://github.com/Tayeb-Ali/hestiacp-nodejs.git
cd hestiacp-nodejs
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงููุซุจุช
```bash
sudo chmod 755 install.sh
sudo ./install.sh
```

ุณูููู ุงููุซุจุช ุจุงูุนูููุงุช ุงูุชุงููุฉ:
- โ ุงูุชุญูู ูู ุชุซุจูุช HestiaCP.
- โ ุงูุชุญูู ูู ูุฌูุฏ Node.js ู PM2.
- โ ูุณุฎ ูููุงุช ุชุทุจูู ุงูุชุซุจูุช ุงูุณุฑูุน ุฅูู HestiaCP.
- โ ูุณุฎ ููุงูุจ Nginx proxy.
- โ ุถุจุท ุตูุงุญูุงุช ุงููููุงุช ุงูุตุญูุญุฉ.
- โ ุชุซุจูุช ุณูุฑุจุช ุฅุฏุงุฑุฉ PM2.

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุชุซุจูุช
ุณุฌู ุงูุฏุฎูู ุฅูู HestiaCP โ Web โ ุชุนุฏูู ุฃู ูุทุงู (Edit) โ ูุฌุจ ุฃู ุชุฑู ุฒุฑ **Quick Install App** ูุน ุฎูุงุฑ **NodeJS**.

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุชุทุจูู Node.js ุฌุฏูุฏ

#### 1. ุฅูุดุงุก ูุณุชุฎุฏู (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
- ุงุฐูุจ ุฅูู **HestiaCP** โ **Users** โ **Add User**.
- ุฃู ุงุณุชุฎุฏู ูุณุชุฎุฏู ุญุงูู.

#### 2. ุชูุนูู ุตูุงุญูุฉ Bash
> โ๏ธ **ูุงู**: ูุฌุจ ุฃู ููุชูู ุงููุณุชุฎุฏู ุตูุงุญูุฉ bash ููู ูุนูู PM2 ุจุดูู ุตุญูุญ.

- ุงุฐูุจ ุฅูู **Users** โ **Edit User** โ **Advanced Options**.
- ุงุถุจุท **SSH Access** โ **bash**.

#### 3. ุฅูุดุงุก ูุทุงู ููุจ (Web Domain)
- ุงุฐูุจ ุฅูู **Web** โ **Add Web Domain**.
- ุฃุฏุฎู ุงุณู ุงููุทุงู (ูุซูุงู: `app.example.com`).

#### 4. ุชุซุจูุช Node.js ุนุจุฑ ุงูุชุซุจูุช ุงูุณุฑูุน
- ุงุฐูุจ ุฅูู **Web** โ **Edit** ูููุทุงู โ **Quick Install App**.
- ุงุฎุชุฑ **NodeJS** ููู ุจุถุจุท ุงูุฅุนุฏุงุฏุงุช:

| ุงูุญูู | ุงููุตู | ูุซุงู |
|:--- |:--- |:--- |
| **Node Version** | ููุดุฆ ููู `.nvmrc` ููุณุชุฎุฏูู NVM (ูุชู ุชุฌุงููู ุฅุฐุง ููุช ุชุณุชุฎุฏู Node ุงููุธุงู) | `v24.11.0` |
| **Start Script** | ุฃูุฑ ุจุฏุก ุชุดุบูู PM2 (ูุฌุจ ุฃู ูุทุงุจู ุงูุณูุฑุจุช ูู `package.json`) | `npm run start` |
| **Port** | ูููุฐ ูุฑูุฏ ููุฐุง ุงูุชุทุจูู (ูููุฐ ูุฎุชูู ููู ุชุทุจูู) | `3000` |
| **PHP Version** | ูุทููุจ ูู ูุจู ูููุฐุฌ HestiaCPุ ูููู ุงุฎุชูุงุฑ ุฃู ูููุฉ **(ุบูุฑ ููู)** | `8.2` |

#### 5. ุถุจุท ูุงูุจ ุงูุจุฑููุณู (Proxy Template)
- ุงุฐูุจ ุฅูู **Web** โ **Edit** ูููุทุงู โ **Advanced Options**.
- ุงุถุจุท **Proxy Template** โ **NodeJS**.

#### 6. ุฑูุน ุงูุชุทุจูู
ุงุฑูุน ูููุงุช ุชุทุจูู Node.js ุฅูู ุงููุณุงุฑ:
```
/home/<user>/web/<domain>/private/nodeapp/
```

ุทุฑู ุงูุฑูุน:
- **ูุฏูุฑ ุงููููุงุช (File Manager)**: ุงุณุชุฎุฏู ูุฏูุฑ ุงููููุงุช ุงููุฏูุฌ ูู HestiaCP.
- **SFTP**: ุงุชุตู ุจุงุณุชุฎุฏุงู ุนููู SFTP (ูุซู FileZilla, WinSCP).
- **Git**: ุงุชุตู ุนุจุฑ SSH ูุงุณุชูุณุฎ ุงููุณุชูุฏุน ูุจุงุดุฑุฉ:
  ```bash
  cd /home/<user>/web/<domain>/private/nodeapp/
  git clone <your-repo-url> .
  npm install --production
  ```

#### 7. ุชุดุบูู ุงูุชุทุจูู
ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชุทุจูู ุชููุงุฆููุง ุนุจุฑ PM2. ุฅุฐุง ูู ูุญุฏุซ ุฐูู:
```bash
cd /home/<user>/web/<domain>/private/nodeapp/
pm2 start ecosystem.config.js
pm2 save
```

๐ **ุชู!** ุชุทุจููู ูุชุงุญ ุงูุขู ุนุจุฑ ุงููุทุงู ุงูุฎุงุต ุจู.

---

## ๐ ูููู ุงููุฌูุฏุงุช

ุจุนุฏ ุงูุชุซุจูุชุ ูุชู ุฅูุดุงุก ุงููููู ุงูุชุงูู:

```
/home/<user>/
โโโ web/
โ   โโโ <domain>/
โ       โโโ private/
โ       โ   โโโ nodeapp/              # โ ูููุงุช ุชุทุจููู ููุง
โ       โ       โโโ ecosystem.config.js   # ุชูููู PM2 (ุชููุงุฆู)
โ       โ       โโโ .nvmrc                # ุฅุตุฏุงุฑ Node ูู NVM (ุชููุงุฆู)
โ       โ       โโโ .env                  # ูุชุบูุฑ ููู ุงููููุฐ (ุชููุงุฆู)
โ       โ       โโโ package.json          # ููู package.json ุงูุฎุงุต ุจู
โ       โ       โโโ ...                   # ุจููุฉ ูููุงุช ุงูุชุทุจูู
โ       โโโ public_html/
โ           โโโ app.conf              # ููู ููุชุนุฑู ุนูู ุงูุชุทุจูู ูู HestiaCP
โ
โโโ hestiacp_nodejs_config/
    โโโ web/
        โโโ <domain>/
            โโโ nodejs-app.conf           # ุฅุนุฏุงุฏุงุช Nginx proxy
            โโโ nodejs-app-fallback.conf  # ุฅุนุฏุงุฏุงุช Nginx fallback
            โโโ .conf                     # ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
```

### ูููุงุช ูุธุงู HestiaCP

```
/usr/local/hestia/
โโโ web/src/app/WebApp/Installers/
โ   โโโ NodeJs/                       # ุชุทุจูู ุงูุชุซุจูุช ุงูุณุฑูุน
โ       โโโ NodeJsSetup.php               # ูุซุจุช ุงูุชุทุจูู ุงูุฑุฆูุณู (PHP)
โ       โโโ nodejs.png                    # ุฃููููุฉ ุงูุชุทุจูู
โ       โโโ NodeJsUtils/                  # ุฃุฏูุงุช ูุณุงุนุฏุฉ
โ       โ   โโโ NodeJsPaths.php
โ       โ   โโโ NodeJsUtil.php
โ       โโโ templates/                    # ุงูููุงูุจ ุงูุฏุงุฎููุฉ
โ           โโโ nginx/
โ           โ   โโโ nodejs-app.tpl
โ           โ   โโโ nodejs-app-fallback.tpl
โ           โโโ web/
โ               โโโ entrypoint.tpl
โโโ data/templates/web/nginx/             # ููุงูุจ Nginx ุงูุฑุฆูุณูุฉ
โ   โโโ NodeJS.tpl
โ   โโโ NodeJS.stpl
โโโ bin/
    โโโ v-add-pm2-app                 # ุณูุฑุจุช ุฅุฏุงุฑุฉ PM2
```

---

## ๐ ุงูุตูุงุญูุงุช ูุงููุณุชุฎุฏููู

### ูู ูุฌุจ ุนููู ุชุซุจูุช ูุฐุง ุงูููุญูุ

| ุงูุฅุฌุฑุงุก | ุงููุณุชุฎุฏู ุงููุทููุจ | ุงูุณุจุจ |
|:--- |:--- |:--- |
| ุชุดุบูู `install.sh` | **root** | ูุณุฎ ูููุงุช ุฅูู ูุณุงุฑุงุช ุงููุธุงู `/usr/local/hestia/`. |
| ุฅูุดุงุก ูุทุงู ููุจ | ูุณุคูู HestiaCP | ูุชุทูุจ ุงููุตูู ูููุญุฉ ุงูุชุญูู. |
| ุฑูุน ุชุทุจูู Node.js | ูุงูู ุงููุทุงู (User) | ุงููููุงุช ุชูุถุน ูู ูุฌูุฏ ุงูููุฒู ูููุณุชุฎุฏู. |
| ุฅุฏุงุฑุฉ ุนูููุงุช PM2 | ูุงูู ุงููุทุงู (User) | ูุนูู PM2 ุชุญุช ุณูุงู ุงููุณุชุฎุฏู. |

### ุตูุงุญูุงุช ุงููููุงุช

| ุงููุณุงุฑ | ุงูุตูุงุญูุฉ (Permission) | ุงููุงูู (Owner) |
|:--- |:--- |:--- |
| Quick Install App (`NodeJs/`) | 755/644 | root:root |
| ููุงูุจ Nginx (`.tpl`, `.stpl`) | 644 | root:root |
| `v-add-pm2-app` | 755 | root:root |
| ูุฌูุฏ ุงููุณุชุฎุฏู `nodeapp/` | 755 | user:user |
| ูุฌูุฏ ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู | 755 | user:user |

### ูุชุทูุจ ุงููุตูู ุนุจุฑ SSH

ูุชุทูุจ PM2 ุตูุงุญูุฉ ูุตูู **bash** ูููุณุชุฎุฏู. ุจุฏูููุ ุณุชูุดู ุฃูุงูุฑ PM2:

```
HestiaCP โ Users โ Edit User โ Advanced Options โ SSH Access โ bash
```

> โ๏ธ ูู ุจุชูุนูู ูุตูู bash ููุท ูููุณุชุฎุฏููู ุงูุฐูู ูุญุชุงุฌูู ูุชุดุบูู ุชุทุจููุงุช Node.js. ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ููุถู ุฅุจูุงุคูู ุนูู `nologin`.

---

## โ๏ธ ุชูุงุตูู ุงูุฅุนุฏุงุฏุงุช

### ููู `ecosystem.config.js` (ูููุฏ ุชููุงุฆููุง)

```javascript
module.exports = {
    apps : [{
        name   : 'example.com',
        script : 'npm run start',
        cwd    : '/home/user/web/example.com/private/nodeapp',
        env    : {
            NODE_ENV : 'production',
            PORT     : '3000'
        },
        watch  : false,
        max_memory_restart : '512M',
        instances : 1,
        autorestart : true
    }]
}
```

**ุญููู ูุงุจูุฉ ููุชุฎุตูุต:**
- `watch`: ุงุฌุนูู `true` ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุนูุฏ ุชุบููุฑ ุงููููุงุช (ููุชุทููุฑ ููุท).
- `max_memory_restart`: ุฒุฏ ุงููููุฉ ููุชุทุจููุงุช ุงูุชู ุชุณุชููู ุฐุงูุฑุฉ ูุจูุฑุฉ.
- `instances`: ุงุฌุนูู `'max'` ููุถุน ุงูู Cluster.

### ููู `.env` (ูููุฏ ุชููุงุฆููุง)

```env
PORT="3000"
```

ุชุทุจููู ูุฌุจ ุฃู ููุฑุฃ ูุฐุง ุงููููุฐ:
```javascript
const port = process.env.PORT || 3000;
app.listen(port);
```

### ุชุบููุฑ ุงููููุฐ (Port)

1. ุบููุฑ ูุงูุจ ุงูุจุฑููุณู ุฅูู **default** (ูู Web โ Edit โ Advanced Options).
2. ุฃุนุฏ ุชุดุบูู Quick Install App ุจุงููููุฐ ุงูุฌุฏูุฏ.
3. ุบููุฑ ูุงูุจ ุงูุจุฑููุณู ูุฑุฉ ุฃุฎุฑู ุฅูู **NodeJS**.

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ุงูุชุทุจูู ูุง ูุนูู (App Not Accessible)

1. **ุชุญูู ูู ุญุงูุฉ PM2**:
   ```bash
   pm2 list
   pm2 logs <app-name>
   ```

2. **ุชุญูู ูู ุตุญุฉ ุงููููุฐ**:
   ```bash
   cat ~/hestiacp_nodejs_config/web/<domain>/nodejs-app.conf
   # ูุฌุจ ุฃู ูุธูุฑ: proxy_pass http://127.0.0.1:<YOUR_PORT>;
   ```

3. **ุชุญูู ูู ุฅุนุฏุงุฏุงุช Nginx**:
   ```bash
   sudo nginx -t
   sudo systemctl reload nginx
   ```

4. **ุชุญูู ูู ูุงูุจ ุงูุจุฑููุณู**:
   - ุชุฃูุฏ ุฃู **Proxy Template** ูุถุจูุท ุนูู **NodeJS**.

### PM2 ูุง ูุนูู (PM2 Won't Start)

1. **ุชุญูู ูู ุตูุงุญูุฉ bash** ูููุณุชุฎุฏู (ุฑุงุฌุน [ุงูุตูุงุญูุงุช ูุงููุณุชุฎุฏููู](#-ุงูุตูุงุญูุงุช-ูุงููุณุชุฎุฏููู)).
2. **ุชุญูู ูู ุชุซุจูุช Node.js**:
   ```bash
   node -v
   npm -v
   ```
3. **ุฃุนุฏ ุงูุชุดุบูู ูุฏูููุง**:
   ```bash
   cd /home/<user>/web/<domain>/private/nodeapp/
   pm2 start ecosystem.config.js
   pm2 save
   ```

### ุฎุทุฃ 502 Bad Gateway

ูุฐุง ูุนูู ุนุงุฏุฉ ุฃู ุชุทุจูู Node.js ูุฏ ุชุนุทู ุฃู ูุง ูุนูู:
```bash
pm2 list          # ุชุญูู ูู ุฃู ุงูุชุทุจูู 'online'
pm2 logs          # ุงูุญุต ุงูุณุฌูุงุช ุจุญุซุงู ุนู ุฃุฎุทุงุก
pm2 restart all   # ุฃุนุฏ ุชุดุบูู ุฌููุน ุงูุชุทุจููุงุช
```

### SSL/HTTPS ูุง ูุนูู

1. ูุนู SSL ูู HestiaCP โ Web โ Edit domain โ SSL.
2. ุชุฃูุฏ ุฃู **Proxy Template** ูู **NodeJS** (ูููุณ default).

---

## ๐๏ธ ุฅุฒุงูุฉ ุงูุชุซุจูุช

### ุฅุฒุงูุฉ ุงูููุญู (Plugin)
```bash
cd /tmp/hestiacp-nodejs
sudo ./install.sh --uninstall
```

ุณูููู ูุฐุง ุจุญุฐู:
- ูููุงุช ุชุทุจูู ุงูุชุซุจูุช ุงูุณุฑูุน ูู HestiaCP.
- ููุงูุจ Nginx.
- ุณูุฑุจุช ุฅุฏุงุฑุฉ PM2.

> **ููุงุญุธุฉ**: ูุฐุง **ูุง** ูุญุฐู ุชุทุจููุงุช Node.js ุงูุนุงููุฉุ ููุง ุนูููุงุช PM2ุ ููุง ุจูุงูุงุช ุงููุณุชุฎุฏู.

### ุฅุฒุงูุฉ ุชุทุจูู ููุทุงู ูุนูู
1. ุงุญุฐู ุงููุทุงู ูู HestiaCP ุจุดูู ุทุจูุนู.
2. ูุธู ูุฌูุฏ ุงูุฅุนุฏุงุฏุงุช:
   ```bash
   rm -rf ~/hestiacp_nodejs_config/web/<domain>
   ```
3. ุฃููู ุนูููุฉ PM2:
   ```bash
   pm2 delete <domain-name>
   pm2 save
   ```

---

## โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ (FAQ)

### ูู ูููููู ุชุดุบูู ุชุทุจููุงุช Node.js ูุชุนุฏุฏุฉุ
**ูุนู!** ูู ุชุทุจูู ูุณุชุฎุฏู ูููุฐูุง ูุฎุชูููุง. ุฃูุดุฆ ูุทุงููุง ุฌุฏูุฏูุงุ ุซุจุช ุงูุชุทุจูู ุนุจุฑ Quick Install ุจูููุฐ ูุฑูุฏ (3000, 3001, 3002, ...).

### ูู ุฃุญุชุงุฌ ุฅูู PHP ูุชุดุบูู ุชุทุจููุงุช Node.jsุ
**ูุง.** ุญูู ุฅุตุฏุงุฑ PHP ูู ูููุฐุฌ ุงูุชุซุจูุช ูู ูุชุทูุจ ูู HestiaCP ููุณู ูุชุนุจุฆุฉ ุงูุจูุงูุงุช. ููููู ุงุฎุชูุงุฑ ุฃู ุฅุตุฏุงุฑ ููู ูุคุซุฑ ุนูู ุชุทุจูู Node.js.

### ูู ูููููู ุงุณุชุฎุฏุงู ุฅุทุงุฑุงุช ุนูู ูุซู Next.js ุฃู Nuxt ุฃู Expressุ
**ูุนู!** ุฃู ุชุทุจูู Node.js ูุณุชูุน ุนูู ูููุฐ ุณูุนูู. ููุท ุงุถุจุท `start_script` ุงูุตุญูุญ (ูุซู `npm run start` ุฃู `node server.js`).

### ููู ุฃููู ุจุชุญุฏูุซ ุชุทุจูููุ
```bash
cd /home/<user>/web/<domain>/private/nodeapp/
git pull  # ุฃู ุงุฑูุน ุงููููุงุช ุงูุฌุฏูุฏุฉ
npm install --production
pm2 restart <app-name>
```

### ููู ุฃุดุงูุฏ ุณุฌูุงุช ุงูุชุทุจูู (Logs)ุ
```bash
pm2 logs <app-name>       # ุณุฌูุงุช ุญูุฉ
pm2 logs <app-name> --lines 100  # ุขุฎุฑ 100 ุณุทุฑ
```

### ูุงุฐุง ูุญุฏุซ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑุ
ุฅุฐุง ููุช ุจุชุดุบูู `pm2 startup` ู `pm2 save`ุ ุณุชุนูู ุชุทุจููุงุชู ุชููุงุฆููุง. ุฅุฐุง ูู ุชุนูู:
```bash
pm2 startup
pm2 save
```

### ูู ูููููู ุงุณุชุฎุฏุงู WebSocketsุ
**ูุนู!** ูุงูุจ Nginx proxy ูุนุฏ ูุฏุนู ุงุชุตุงูุงุช WebSocket ุนุจุฑ ุชุฑููุณุงุช `Upgrade` ู `Connection`.

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

ุฑุงุฌุน [CHANGELOG.md](CHANGELOG.md) ููุฅุทูุงุน ุนูู ูุงุฆูุฉ ุงูุชุบููุฑุงุช ุงูุชูุตูููุฉ.

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุจููุฌุจ ุฑุฎุตุฉ GNU General Public License v3.0 โ ุฑุงุฌุน ููู [LICENSE](LICENSE) ููุชูุงุตูู.

</div>
